<html>
<head>
  <meta charset="utf-8">
  <title>生成二维码</title>
  <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" >
  <meta name="renderer" content="webkit">
<style>
#main{text-align: center;}
#input{
	width: 100%;
	height: 80px;
}
.qrBox{
	display: inline-block;
	margin: 50px 10px 0 10px;
}
.xuanzhuang{
	animation: myfirst 0.5s;
	-webkit-animation: myfirst 0.5s;
}
@keyframes myfirst{
	0% { transform:rotate(0deg) scale(0.1,0.1); }
	100% { transform:rotate(360deg) scale(1,1); }
}
@-webkit-keyframes myfirst{
	0% { transform:rotate(0deg) scale(0.1,0.1); }
	100% { transform:rotate(360deg) scale(1,1); }
}
</style>
</head>
<body>
<script src="qrcode.min.js"></script>
<div id="main">
	<textarea id="input"></textarea>
	<div class="qrBox" id="QRM"></div>
	<div class="qrBox" id="QRL"></div>
	<div class="qrBox" id="QRH"></div>
	<div class="qrBox" id="QRQ"></div>
</div>
<canvas class="hide" id="can" width="240" height="240"></canvas>

<script>
var input = document.getElementById('input');
input.focus();
var QRM = document.getElementById('QRM');
var QRL = document.getElementById('QRL');
var QRH = document.getElementById('QRH');
var QRQ = document.getElementById('QRQ');
function inputEvent(e){
  makeCode();
}
input.addEventListener('input', inputEvent, false);


function makeCode(){
	QRM.innerHTML = '';
	QRL.innerHTML = '';
	QRH.innerHTML = '';
	QRQ.innerHTML = '';
	QRM.classList.add('xuanzhuang');
	QRL.classList.add('xuanzhuang');
	QRH.classList.add('xuanzhuang');
	QRQ.classList.add('xuanzhuang');

	var qrCode = input.value;

	var qrcode = new QRCode( QRM, {
		width : 220,
		height : 220,
        correctLevel : QRCode.CorrectLevel.M
	});
	qrcode.makeCode(qrCode);
	var qrcode = new QRCode( QRL, {
		width : 220,
		height : 220,
        correctLevel : QRCode.CorrectLevel.L
	});
	qrcode.makeCode(qrCode);
	var qrcode = new QRCode( QRH, {
		width : 220,
		height : 220,
        correctLevel : QRCode.CorrectLevel.H
	});
	qrcode.makeCode(qrCode);
	var qrcode = new QRCode( QRQ, {
		width : 220,
		height : 220,
        correctLevel : QRCode.CorrectLevel.Q
	});
	qrcode.makeCode(qrCode);

}
QRM.addEventListener('webkitAnimationEnd', function(){
	QRM.classList.remove('xuanzhuang');
}, false);
QRL.addEventListener('webkitAnimationEnd', function(){
	QRL.classList.remove('xuanzhuang');
}, false);
QRH.addEventListener('webkitAnimationEnd', function(){
	QRH.classList.remove('xuanzhuang');
}, false);
QRQ.addEventListener('webkitAnimationEnd', function(){
	QRQ.classList.remove('xuanzhuang');
}, false);

</script>

</body>
</html>